<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="900" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1200" height="900" fill="#f8f9fa" stroke="none"/>
  
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#1976d2">
    Modèle Conceptuel de Données - Plateforme Médicale
  </text>
  
  <!-- UTILISATEURS Entity -->
  <g id="utilisateurs">
    <rect x="50" y="60" width="180" height="120" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="5"/>
    <text x="140" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1976d2">
      UTILISATEURS
    </text>
    <line x1="50" y1="85" x2="230" y2="85" stroke="#1976d2" stroke-width="1"/>
    <text x="60" y="100" font-family="Arial, sans-serif" font-size="11" fill="#333">• id (PK)</text>
    <text x="60" y="115" font-family="Arial, sans-serif" font-size="11" fill="#333">• nom_utilisateur (UK)</text>
    <text x="60" y="130" font-family="Arial, sans-serif" font-size="11" fill="#333">• email (UK)</text>
    <text x="60" y="145" font-family="Arial, sans-serif" font-size="11" fill="#333">• role (ENUM)</text>
    <text x="60" y="160" font-family="Arial, sans-serif" font-size="11" fill="#333">• mot_de_passe</text>
    <text x="60" y="175" font-family="Arial, sans-serif" font-size="11" fill="#333">• id_specifique_role</text>
  </g>
  
  <!-- PATIENTS Entity -->
  <g id="patients">
    <rect x="280" y="60" width="160" height="140" fill="#e8f5e8" stroke="#388e3c" stroke-width="2" rx="5"/>
    <text x="360" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#388e3c">
      PATIENTS
    </text>
    <line x1="280" y1="85" x2="440" y2="85" stroke="#388e3c" stroke-width="1"/>
    <text x="290" y="100" font-family="Arial, sans-serif" font-size="11" fill="#333">• id (PK)</text>
    <text x="290" y="115" font-family="Arial, sans-serif" font-size="11" fill="#333">• prenom, nom</text>
    <text x="290" y="130" font-family="Arial, sans-serif" font-size="11" fill="#333">• date_naissance</text>
    <text x="290" y="145" font-family="Arial, sans-serif" font-size="11" fill="#333">• CNE (UK)</text>
    <text x="290" y="160" font-family="Arial, sans-serif" font-size="11" fill="#333">• telephone, adresse</text>
    <text x="290" y="175" font-family="Arial, sans-serif" font-size="11" fill="#333">• groupe_sanguin</text>
    <text x="290" y="190" font-family="Arial, sans-serif" font-size="11" fill="#333">• profession</text>
  </g>
  
  <!-- MEDECINS Entity -->
  <g id="medecins">
    <rect x="480" y="60" width="160" height="140" fill="#fff3e0" stroke="#f57c00" stroke-width="2" rx="5"/>
    <text x="560" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#f57c00">
      MEDECINS
    </text>
    <line x1="480" y1="85" x2="640" y2="85" stroke="#f57c00" stroke-width="1"/>
    <text x="490" y="100" font-family="Arial, sans-serif" font-size="11" fill="#333">• id (PK)</text>
    <text x="490" y="115" font-family="Arial, sans-serif" font-size="11" fill="#333">• prenom, nom</text>
    <text x="490" y="130" font-family="Arial, sans-serif" font-size="11" fill="#333">• specialite_id (FK)</text>
    <text x="490" y="145" font-family="Arial, sans-serif" font-size="11" fill="#333">• numero_ordre (UK)</text>
    <text x="490" y="160" font-family="Arial, sans-serif" font-size="11" fill="#333">• latitude, longitude</text>
    <text x="490" y="175" font-family="Arial, sans-serif" font-size="11" fill="#333">• tarif_consultation</text>
    <text x="490" y="190" font-family="Arial, sans-serif" font-size="11" fill="#333">• statut</text>
  </g>
  
  <!-- SPECIALITES Entity -->
  <g id="specialites">
    <rect x="680" y="60" width="140" height="100" fill="#fce4ec" stroke="#e91e63" stroke-width="2" rx="5"/>
    <text x="750" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#e91e63">
      SPECIALITES
    </text>
    <line x1="680" y1="85" x2="820" y2="85" stroke="#e91e63" stroke-width="1"/>
    <text x="690" y="100" font-family="Arial, sans-serif" font-size="11" fill="#333">• id (PK)</text>
    <text x="690" y="115" font-family="Arial, sans-serif" font-size="11" fill="#333">• nom (UK)</text>
    <text x="690" y="130" font-family="Arial, sans-serif" font-size="11" fill="#333">• description</text>
    <text x="690" y="145" font-family="Arial, sans-serif" font-size="11" fill="#333">• active</text>
  </g>
  
  <!-- RENDEZ_VOUS Entity -->
  <g id="rendez_vous">
    <rect x="50" y="250" width="180" height="140" fill="#f3e5f5" stroke="#9c27b0" stroke-width="2" rx="5"/>
    <text x="140" y="270" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#9c27b0">
      RENDEZ_VOUS
    </text>
    <line x1="50" y1="275" x2="230" y2="275" stroke="#9c27b0" stroke-width="1"/>
    <text x="60" y="290" font-family="Arial, sans-serif" font-size="11" fill="#333">• id (PK)</text>
    <text x="60" y="305" font-family="Arial, sans-serif" font-size="11" fill="#333">• patient_id (FK)</text>
    <text x="60" y="320" font-family="Arial, sans-serif" font-size="11" fill="#333">• medecin_id (FK)</text>
    <text x="60" y="335" font-family="Arial, sans-serif" font-size="11" fill="#333">• date_heure</text>
    <text x="60" y="350" font-family="Arial, sans-serif" font-size="11" fill="#333">• statut (ENUM)</text>
    <text x="60" y="365" font-family="Arial, sans-serif" font-size="11" fill="#333">• motif, type</text>
    <text x="60" y="380" font-family="Arial, sans-serif" font-size="11" fill="#333">• tarif_applique</text>
  </g>
  
  <!-- CONSULTATIONS Entity -->
  <g id="consultations">
    <rect x="280" y="250" width="160" height="120" fill="#e0f2f1" stroke="#00796b" stroke-width="2" rx="5"/>
    <text x="360" y="270" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#00796b">
      CONSULTATIONS
    </text>
    <line x1="280" y1="275" x2="440" y2="275" stroke="#00796b" stroke-width="1"/>
    <text x="290" y="290" font-family="Arial, sans-serif" font-size="11" fill="#333">• id (PK)</text>
    <text x="290" y="305" font-family="Arial, sans-serif" font-size="11" fill="#333">• rdv_id (FK)</text>
    <text x="290" y="320" font-family="Arial, sans-serif" font-size="11" fill="#333">• motif_consultation</text>
    <text x="290" y="335" font-family="Arial, sans-serif" font-size="11" fill="#333">• examen_clinique</text>
    <text x="290" y="350" font-family="Arial, sans-serif" font-size="11" fill="#333">• diagnostic</text>
    <text x="290" y="365" font-family="Arial, sans-serif" font-size="11" fill="#333">• prescription</text>
  </g>
  
  <!-- ANTECEDENTS_MEDICAUX Entity -->
  <g id="antecedents">
    <rect x="480" y="250" width="180" height="120" fill="#fff8e1" stroke="#ff8f00" stroke-width="2" rx="5"/>
    <text x="570" y="270" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#ff8f00">
      ANTECEDENTS_MEDICAUX
    </text>
    <line x1="480" y1="275" x2="660" y2="275" stroke="#ff8f00" stroke-width="1"/>
    <text x="490" y="290" font-family="Arial, sans-serif" font-size="11" fill="#333">• id (PK)</text>
    <text x="490" y="305" font-family="Arial, sans-serif" font-size="11" fill="#333">• patient_id (FK)</text>
    <text x="490" y="320" font-family="Arial, sans-serif" font-size="11" fill="#333">• type (ENUM)</text>
    <text x="490" y="335" font-family="Arial, sans-serif" font-size="11" fill="#333">• description</text>
    <text x="490" y="350" font-family="Arial, sans-serif" font-size="11" fill="#333">• date_diagnostic</text>
    <text x="490" y="365" font-family="Arial, sans-serif" font-size="11" fill="#333">• actif</text>
  </g>
  
  <!-- TRAITEMENTS Entity -->
  <g id="traitements">
    <rect x="50" y="430" width="160" height="120" fill="#efebe9" stroke="#5d4037" stroke-width="2" rx="5"/>
    <text x="130" y="450" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#5d4037">
      TRAITEMENTS
    </text>
    <line x1="50" y1="455" x2="210" y2="455" stroke="#5d4037" stroke-width="1"/>
    <text x="60" y="470" font-family="Arial, sans-serif" font-size="11" fill="#333">• id (PK)</text>
    <text x="60" y="485" font-family="Arial, sans-serif" font-size="11" fill="#333">• patient_id (FK)</text>
    <text x="60" y="500" font-family="Arial, sans-serif" font-size="11" fill="#333">• medicament_id (FK)</text>
    <text x="60" y="515" font-family="Arial, sans-serif" font-size="11" fill="#333">• posologie</text>
    <text x="60" y="530" font-family="Arial, sans-serif" font-size="11" fill="#333">• date_debut, date_fin</text>
    <text x="60" y="545" font-family="Arial, sans-serif" font-size="11" fill="#333">• observance</text>
  </g>
  
  <!-- MEDICAMENTS Entity -->
  <g id="medicaments">
    <rect x="250" y="430" width="160" height="120" fill="#e8eaf6" stroke="#3f51b5" stroke-width="2" rx="5"/>
    <text x="330" y="450" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#3f51b5">
      MEDICAMENTS
    </text>
    <line x1="250" y1="455" x2="410" y2="455" stroke="#3f51b5" stroke-width="1"/>
    <text x="260" y="470" font-family="Arial, sans-serif" font-size="11" fill="#333">• id (PK)</text>
    <text x="260" y="485" font-family="Arial, sans-serif" font-size="11" fill="#333">• nom_commercial (UK)</text>
    <text x="260" y="500" font-family="Arial, sans-serif" font-size="11" fill="#333">• principe_actif</text>
    <text x="260" y="515" font-family="Arial, sans-serif" font-size="11" fill="#333">• forme, dosage</text>
    <text x="260" y="530" font-family="Arial, sans-serif" font-size="11" fill="#333">• contre_indications</text>
    <text x="260" y="545" font-family="Arial, sans-serif" font-size="11" fill="#333">• effets_secondaires</text>
  </g>
  
  <!-- RESULTATS_ANALYSES Entity -->
  <g id="analyses">
    <rect x="450" y="430" width="180" height="120" fill="#fde7f3" stroke="#ad1457" stroke-width="2" rx="5"/>
    <text x="540" y="450" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#ad1457">
      RESULTATS_ANALYSES
    </text>
    <line x1="450" y1="455" x2="630" y2="455" stroke="#ad1457" stroke-width="1"/>
    <text x="460" y="470" font-family="Arial, sans-serif" font-size="11" fill="#333">• id (PK)</text>
    <text x="460" y="485" font-family="Arial, sans-serif" font-size="11" fill="#333">• patient_id (FK)</text>
    <text x="460" y="500" font-family="Arial, sans-serif" font-size="11" fill="#333">• type_analyse_id (FK)</text>
    <text x="460" y="515" font-family="Arial, sans-serif" font-size="11" fill="#333">• valeur, unite</text>
    <text x="460" y="530" font-family="Arial, sans-serif" font-size="11" fill="#333">• date_analyse</text>
    <text x="460" y="545" font-family="Arial, sans-serif" font-size="11" fill="#333">• interpretation</text>
  </g>
  
  <!-- INSTITUTIONS Entity -->
  <g id="institutions">
    <rect x="680" y="250" width="160" height="120" fill="#e1f5fe" stroke="#0277bd" stroke-width="2" rx="5"/>
    <text x="760" y="270" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#0277bd">
      INSTITUTIONS
    </text>
    <line x1="680" y1="275" x2="840" y2="275" stroke="#0277bd" stroke-width="1"/>
    <text x="690" y="290" font-family="Arial, sans-serif" font-size="11" fill="#333">• id (PK)</text>
    <text x="690" y="305" font-family="Arial, sans-serif" font-size="11" fill="#333">• nom</text>
    <text x="690" y="320" font-family="Arial, sans-serif" font-size="11" fill="#333">• adresse</text>
    <text x="690" y="335" font-family="Arial, sans-serif" font-size="11" fill="#333">• type (ENUM)</text>
    <text x="690" y="350" font-family="Arial, sans-serif" font-size="11" fill="#333">• latitude, longitude</text>
    <text x="690" y="365" font-family="Arial, sans-serif" font-size="11" fill="#333">• medecin_proprietaire_id</text>
  </g>
  
  <!-- DISPONIBILITES_MEDECIN Entity -->
  <g id="disponibilites">
    <rect x="880" y="60" width="180" height="140" fill="#f1f8e9" stroke="#689f38" stroke-width="2" rx="5"/>
    <text x="970" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#689f38">
      DISPONIBILITES_MEDECIN
    </text>
    <line x1="880" y1="85" x2="1060" y2="85" stroke="#689f38" stroke-width="1"/>
    <text x="890" y="100" font-family="Arial, sans-serif" font-size="11" fill="#333">• id (PK)</text>
    <text x="890" y="115" font-family="Arial, sans-serif" font-size="11" fill="#333">• medecin_id (FK)</text>
    <text x="890" y="130" font-family="Arial, sans-serif" font-size="11" fill="#333">• jour_semaine (ENUM)</text>
    <text x="890" y="145" font-family="Arial, sans-serif" font-size="11" fill="#333">• heure_debut_matin</text>
    <text x="890" y="160" font-family="Arial, sans-serif" font-size="11" fill="#333">• heure_fin_matin</text>
    <text x="890" y="175" font-family="Arial, sans-serif" font-size="11" fill="#333">• heure_debut_apres_midi</text>
    <text x="890" y="190" font-family="Arial, sans-serif" font-size="11" fill="#333">• intervalle_minutes</text>
  </g>
  
  <!-- Relationships -->
  <g id="relationships">
    <!-- Arrows and connections -->
    <defs>
      <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
        <path d="M0,0 L0,6 L9,3 z" fill="#333"/>
      </marker>
    </defs>
    
    <!-- UTILISATEURS -> PATIENTS -->
    <line x1="230" y1="120" x2="280" y2="120" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="255" y="115" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">1:1</text>
    
    <!-- MEDECINS -> SPECIALITES -->
    <line x1="640" y1="130" x2="680" y2="130" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="660" y="125" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">N:1</text>
    
    <!-- PATIENTS -> RENDEZ_VOUS -->
    <line x1="320" y1="200" x2="140" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="230" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">1:N</text>
    
    <!-- MEDECINS -> RENDEZ_VOUS -->
    <line x1="520" y1="200" x2="180" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="350" y="235" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">1:N</text>
    
    <!-- RENDEZ_VOUS -> CONSULTATIONS -->
    <line x1="230" y1="310" x2="280" y2="310" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="255" y="305" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">1:1</text>
    
    <!-- PATIENTS -> ANTECEDENTS -->
    <line x1="440" y1="140" x2="520" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="480" y="195" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">1:N</text>
    
    <!-- PATIENTS -> TRAITEMENTS -->
    <line x1="320" y1="200" x2="130" y2="430" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="225" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">1:N</text>
    
    <!-- MEDICAMENTS -> TRAITEMENTS -->
    <line x1="250" y1="490" x2="210" y2="490" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="230" y="485" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">1:N</text>
    
    <!-- PATIENTS -> ANALYSES -->
    <line x1="400" y1="200" x2="500" y2="430" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="450" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">1:N</text>
    
    <!-- MEDECINS -> DISPONIBILITES -->
    <line x1="640" y1="100" x2="880" y2="120" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="760" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">1:N</text>
    
    <!-- MEDECINS -> INSTITUTIONS -->
    <line x1="600" y1="200" x2="720" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="660" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">1:N</text>
  </g>
  
  <!-- Legend -->
  <rect x="50" y="600" width="1100" height="120" fill="#fffde7" stroke="#f57f17" stroke-width="2" rx="5"/>
  <text x="60" y="620" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">
    Légende - Contraintes et Relations:
  </text>
  <text x="60" y="640" font-family="Arial, sans-serif" font-size="12" fill="#333">
    • PK = Clé Primaire • FK = Clé Étrangère • UK = Contrainte d'Unicité • ENUM = Type Énuméré
  </text>
  <text x="60" y="660" font-family="Arial, sans-serif" font-size="12" fill="#333">
    • 1:1 = Relation Un à Un • 1:N = Relation Un à Plusieurs • N:1 = Relation Plusieurs à Un
  </text>
  <text x="60" y="680" font-family="Arial, sans-serif" font-size="12" fill="#333">
    • Base de données normalisée 3NF avec 25+ tables • Index spatiaux sur latitude/longitude
  </text>
  <text x="60" y="700" font-family="Arial, sans-serif" font-size="12" fill="#333">
    • Contraintes d'intégrité référentielle • Triggers d'audit automatique • Hashage sécurisé des mots de passe
  </text>
</svg>
